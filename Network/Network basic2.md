### 통신방식

**단방향**

라디오  TV 

**양방향** 

반이중 : 송수신 동시에 불가능 - 무전기

전이중 : 송수신 동시에 가능 - 전화 채팅 등

### 교환 시스템

**회선 교환**

한 회선이 연결되면 물리적인 경로가 생성되며, 다른 회선은 접근을 못한다.(독점) 

**패킷 교환**

가상 회선 - 패킷을 사용하므로 3계층이며, 최적의 경로가 아닌 약속된 경로로 찾아감

데이터 그램

### 네트워크 주소의 표현

상위 계층에서 DNS에 접속하여 실제 IP주소 찾은 후 네트워크 계층으로 전달해서 요청

### TCP/IP

기존의 OSI-7은 이론적으로 네트워크에 대해서 설명하기 좋지만 실효성은 떨어진다.

실제로 사용되는 것은 TCP/IP(인터넷) 모델이다.

A P S 계층은 사용자 프로그램에서 동작하며 그 밑 계층부터 운영체제에서 동작한다. 

**구성**

![https://user-images.githubusercontent.com/70089259/148006361-9c688360-6623-4f99-b94e-6efa97ec96a7.png](https://user-images.githubusercontent.com/70089259/148006361-9c688360-6623-4f99-b94e-6efa97ec96a7.png)

 

![https://user-images.githubusercontent.com/70089259/148006457-42c2cb72-5f11-4775-bd3a-dfb453d5a542.png](https://user-images.githubusercontent.com/70089259/148006457-42c2cb72-5f11-4775-bd3a-dfb453d5a542.png)

**응용계층**

메일프로그램, 웹 브라우저 등 사용자가 직접 사용하는 TCP/IP의 프로토콜을 이용한 응용 프로그램들로 응용 계층을 분류한다.

제공되는 서비스는 표현 계층과 세션 계층에서 정의한다.

기존의 OSI 7에서는? 

1. 응용 계층에서 네트워크 접근수단을 제공
2. 표현 계층에서 전송 데이터 처리 담당
3. 세션 계층에서 세션의 설정 유지 종료를 했다.

TCP/IP모델에서는 SMTP가 담당.

**전송계층**

상위 계층에서 볼 때, 두 개의 호스트간의 자료 전송을 담당

TCP UDP 두 종류의 프로토콜 사용

시스템의 논리 주소와 포트가 있어 각 상위 계층의 프로세스를 연결하여 통신

- **TCP(전송제어프로토콜)**
    
    송신지에서 수신지까지, 두 응용 계층이 서로 대화하는 것을 허용하는 신뢰성있는 프로토콜이다. 헤더의 오류코드에 대응할 수 있는 각종 정보가 들어있다.
    
- **UDP(사용자데이터그램프로토콜)**
    
    단순한 전송 프로토콜, 패킷을 빠르게 전송할 경우 사용
    

**네트워크 계층**

인터넷 계층은 여러 프로토콜을 포함하며 가장 중요한 프로토콜인 IP(인터넷프로토콜)는 IP데이터그램이라는 패킷을 만들고, 수신지에 해당 패킷을 전송, 즉 송수신 호스트 사이의 패킷 전달 경로를 선택한다 → 라우팅  혼잡제어  패킷의분할병합

- **IP를 사용한 네트워크 계층의 역할 예제**
    
    수신지의 경로를 설정(라우팅) 후에 데이터를 전송 → 해당 계층에서 논리적 수신지까지 논리적 링크를 설정 및 라우팅하는 기능을 한다.

어떤 IP주소로 데이터를 보내고 싶은데 처음에 맥 위치를 모른다. 

ARP를 브로드캐스트를 하고 맥 주소가 담긴 메세지가 보내진다. 

스위치의 라우팅 테이블에 해당 IP주소에 맞는 맥주소값이 반환되어오면 그 방향의 포트를 기록한다.

ex) 가장 가까운 노드의 맥 주소를 알려주는 것의 예시

왼쪽 끝 상단에서 오른쪽 끝 상단으로 데이터를 보낼 때, 스위치에 데이터가 들어가면 2번 포트쪽에 있다고 알려줌. 

**네트워크 접속 계층**

운영체제의 네트워크 카드와 디바이스 드라이버 등과 같이 하드웨어적인 요소와 관련되는 모든 것을 지원하는 계층

- 송신측 : 상위 계층으로부터 전달 받은 패킷에 물리적 주소인 MAC 주소 정보를 헤더에 추가하여 프레임 생성 후 물리 계층에 전달
- 수신측 : 추가된 헤더를 제거하여 상위 계층인 네트워크 계층으로 전달

**프로토콜**

TCP/UDP - 사용자 데이터 전송하는 전송 계층 프로토콜

IP - 사용자 데이터를 전송하는 네트워크 계층 프로토콜

ARP - IP 주소를 MAC주소로 변환

RARP  -MAC주소를 IP로 변환

**인터네트워킹**
서로 다른 네트워크를 연결하는 기능

**브리지**

- **스패닝트리**

네트워크의 논리적 연결 상태를 비순환 형태로 간주하기 위해 양쪽에서 같은 데이터가 입력 되는 것을 막기 위해 스패닝 트리 패킷을 보낸다 → 포트를 막음으로서 강제로 비순환 구조로 조성

- **소스라우팅**

프레임 헤더에 수신지까지의 라우팅 정보를 제공, 브리지에 필요한 라우팅 정보가 프레임에 포함

**라우터**

- 고정 경로 : 변경을 반영하기가 복잡하다
- 적응 경로 : 변경 상태가 반영되기 때문에 지속적으로 정보 수집으로 인한 부담

### 오류 검출

**검사방법**

순방향 / 역방향 검사

**오류 종류**

단일-비트 오류

다중-비트 오류

집단 오류

**방법**

패리티, 블록 합 :  홀짝을 활용하여 검출

순환중복 검사 : 체크섬을 활용하여 검출

### 네트워크 계층의 기능

**종류**

연결형 비연결형(패킷단위)

**라우팅**

패킷의 전송 경로를 지정

정적, 동적 방식이 있다.

HELLO ECHO 패킷

- 소스 라우팅
- 분산 라우팅
- 중앙 라우팅
- 계층 라우팅

**혼잡제어**

혼잡제어 : 네트워크에서의 전송 능력 문제,

흐름제어 : 송수신 호스트 사이의 전송 속도 문제

- 혼잡의 원인
    - 타임 아웃 : 내가 보낸 패킷이 받았다는 신호가 없다면 재전송함
- 라우팅 알고리즘
    - 혼잡이 발생하지 않는 경로를 배정하여 설계
- 트레픽 성형
- 혼잡 제거

**라우팅 프로토콜**

- **간단한 라우팅 프로토콜**
    - 플러딩 - 출력 가능한 모든 경로로 중개, 특별한 목적으로만 사용
- **거리 벡터 프로토콜 -RIP(내부 라우팅 프로토콜)**
    - 링크 벡터 : 이웃하게 연결된 라우터간에 라우팅 정보를 교환한다. 자신의 정보 뿐 아니라 받은 정보까지 토탈해서 뿌리게 됌
    - 거리 벡터 : 전체 개별 네트워크에 대한 홉 수를 기준으로 거리 정보를 계산
    - 다음 홉 벡터 : 최단 루트로 가기 위해 다음 홉 정보를 갱신
- **링크 상태 프로토콜 - OSPF(내부 라우팅 프로토콜)**
    - 거리벡터 프로토콜이 건너는 홉의 개수를 따진다면 실제 속도를 따진다.
    - 모든 라우터간에 라우팅 정보를 교환


